'use strict';System.register(['ramda'],function(_export,_context){'use strict';var tap,invoker,_,compose,F,curry,reject,isEmpty,split,lift,of,toLower,querySelectAll,querySelect,freeze,events,ifValueChanged,highLight,isMatching,allLinks;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}return{setters:[function(_ramda){tap=_ramda.tap;invoker=_ramda.invoker;_=_ramda.__;compose=_ramda.compose;F=_ramda.F;curry=_ramda.curry;reject=_ramda.reject;isEmpty=_ramda.isEmpty;split=_ramda.split;lift=_ramda.lift;of=_ramda.of;toLower=_ramda.toLower}],execute:function(){querySelectAll=curry(function(query,ctx){return[].concat(_toConsumableArray(ctx.querySelectorAll(query)))});querySelect=curry(function(query,ctx){return ctx.querySelector(query)});freeze=function freeze(o){return Object.freeze(o)};events=function(){var splitNames=compose(reject(isEmpty),split(' '));var addListener=invoker(3,'addEventListener')(_,_,false);var o={noDefault:tap(invoker(0,'preventDefault')),noBubbling:tap(invoker(0,'stopPropagation'))};o.addListener=curry(function(names,handler,ctx){return lift(addListener)(splitNames(names),of(handler),of(ctx))});return freeze(o)}();events.addListener('submit',compose(F,events.noDefault,events.noBubbling),querySelect('#search',document));ifValueChanged=function ifValueChanged(fn){var last=undefined;return function(evt){var current=evt.target.value;if(current===last){return evt}else{last=current;return fn(evt)}}};highLight=curry(function(match,links,evt){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=links[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var elem=_step.value;var score=match(elem.innerHTML,evt.target.value);elem.classList.remove('match');elem.classList.remove('kinda');if(score>=0)elem.classList.add('match');if(score>=1)elem.classList.add('kinda')}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}});isMatching=function isMatching(a,b){a=toLower(a);b=toLower(b);if(a===''||b=='')return-1;if(a===b)return 0;if(a.indexOf(b)!==-1||b.indexOf(a)!==-1)return 1;return-1};allLinks=querySelectAll('main li a',document);events.addListener('change keyup paste',ifValueChanged(highLight(isMatching,allLinks)),querySelect('#query',document))}}});